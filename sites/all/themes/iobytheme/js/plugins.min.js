$=jQuery,function(s){"use strict";s.fn.fitVids=function(t){var i={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("div");r.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',e.appendChild(r.childNodes[1])}return t&&s.extend(i,t),this.each(function(){var t=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];i.customSelector&&t.push(i.customSelector);var r=".fitvidsignore";i.ignore&&(r=r+", "+i.ignore);var e=s(this).find(t.join(","));(e=(e=e.not("object object")).not(r)).each(function(){var t=s(this);if(!(0<t.parents(r).length||"embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){t.css("height")||t.css("width")||!isNaN(t.attr("height"))&&!isNaN(t.attr("width"))||(t.attr("height",9),t.attr("width",16));var e=("object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height())/(isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10));if(!t.attr("name")){var i="fitvid"+s.fn.fitVids._count;t.attr("name",i),s.fn.fitVids._count++}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*e+"%"),t.removeAttr("height").removeAttr("width")}})})},s.fn.fitVids._count=0}(window.jQuery||window.Zepto),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,i,r,s){return jQuery.easing[jQuery.easing.def](t,e,i,r,s)},easeInQuad:function(t,e,i,r,s){return r*(e/=s)*e+i},easeOutQuad:function(t,e,i,r,s){return-r*(e/=s)*(e-2)+i},easeInOutQuad:function(t,e,i,r,s){return(e/=s/2)<1?r/2*e*e+i:-r/2*(--e*(e-2)-1)+i},easeInCubic:function(t,e,i,r,s){return r*(e/=s)*e*e+i},easeOutCubic:function(t,e,i,r,s){return r*((e=e/s-1)*e*e+1)+i},easeInOutCubic:function(t,e,i,r,s){return(e/=s/2)<1?r/2*e*e*e+i:r/2*((e-=2)*e*e+2)+i},easeInQuart:function(t,e,i,r,s){return r*(e/=s)*e*e*e+i},easeOutQuart:function(t,e,i,r,s){return-r*((e=e/s-1)*e*e*e-1)+i},easeInOutQuart:function(t,e,i,r,s){return(e/=s/2)<1?r/2*e*e*e*e+i:-r/2*((e-=2)*e*e*e-2)+i},easeInQuint:function(t,e,i,r,s){return r*(e/=s)*e*e*e*e+i},easeOutQuint:function(t,e,i,r,s){return r*((e=e/s-1)*e*e*e*e+1)+i},easeInOutQuint:function(t,e,i,r,s){return(e/=s/2)<1?r/2*e*e*e*e*e+i:r/2*((e-=2)*e*e*e*e+2)+i},easeInSine:function(t,e,i,r,s){return-r*Math.cos(e/s*(Math.PI/2))+r+i},easeOutSine:function(t,e,i,r,s){return r*Math.sin(e/s*(Math.PI/2))+i},easeInOutSine:function(t,e,i,r,s){return-r/2*(Math.cos(Math.PI*e/s)-1)+i},easeInExpo:function(t,e,i,r,s){return 0==e?i:r*Math.pow(2,10*(e/s-1))+i},easeOutExpo:function(t,e,i,r,s){return e==s?i+r:r*(1-Math.pow(2,-10*e/s))+i},easeInOutExpo:function(t,e,i,r,s){return 0==e?i:e==s?i+r:(e/=s/2)<1?r/2*Math.pow(2,10*(e-1))+i:r/2*(2-Math.pow(2,-10*--e))+i},easeInCirc:function(t,e,i,r,s){return-r*(Math.sqrt(1-(e/=s)*e)-1)+i},easeOutCirc:function(t,e,i,r,s){return r*Math.sqrt(1-(e=e/s-1)*e)+i},easeInOutCirc:function(t,e,i,r,s){return(e/=s/2)<1?-r/2*(Math.sqrt(1-e*e)-1)+i:r/2*(Math.sqrt(1-(e-=2)*e)+1)+i},easeInElastic:function(t,e,i,r,s){var o=1.70158,n=0,a=r;if(0==e)return i;if(1==(e/=s))return i+r;if(n||(n=.3*s),a<Math.abs(r)){a=r;o=n/4}else o=n/(2*Math.PI)*Math.asin(r/a);return-a*Math.pow(2,10*(e-=1))*Math.sin((e*s-o)*(2*Math.PI)/n)+i},easeOutElastic:function(t,e,i,r,s){var o=1.70158,n=0,a=r;if(0==e)return i;if(1==(e/=s))return i+r;if(n||(n=.3*s),a<Math.abs(r)){a=r;o=n/4}else o=n/(2*Math.PI)*Math.asin(r/a);return a*Math.pow(2,-10*e)*Math.sin((e*s-o)*(2*Math.PI)/n)+r+i},easeInOutElastic:function(t,e,i,r,s){var o=1.70158,n=0,a=r;if(0==e)return i;if(2==(e/=s/2))return i+r;if(n||(n=s*(.3*1.5)),a<Math.abs(r)){a=r;o=n/4}else o=n/(2*Math.PI)*Math.asin(r/a);return e<1?a*Math.pow(2,10*(e-=1))*Math.sin((e*s-o)*(2*Math.PI)/n)*-.5+i:a*Math.pow(2,-10*(e-=1))*Math.sin((e*s-o)*(2*Math.PI)/n)*.5+r+i},easeInBack:function(t,e,i,r,s,o){return null==o&&(o=1.70158),r*(e/=s)*e*((o+1)*e-o)+i},easeOutBack:function(t,e,i,r,s,o){return null==o&&(o=1.70158),r*((e=e/s-1)*e*((o+1)*e+o)+1)+i},easeInOutBack:function(t,e,i,r,s,o){return null==o&&(o=1.70158),(e/=s/2)<1?r/2*(e*e*((1+(o*=1.525))*e-o))+i:r/2*((e-=2)*e*((1+(o*=1.525))*e+o)+2)+i},easeInBounce:function(t,e,i,r,s){return r-jQuery.easing.easeOutBounce(t,s-e,0,r,s)+i},easeOutBounce:function(t,e,i,r,s){return(e/=s)<1/2.75?r*(7.5625*e*e)+i:e<2/2.75?r*(7.5625*(e-=1.5/2.75)*e+.75)+i:e<2.5/2.75?r*(7.5625*(e-=2.25/2.75)*e+.9375)+i:r*(7.5625*(e-=2.625/2.75)*e+.984375)+i},easeInOutBounce:function(t,e,i,r,s){return e<s/2?.5*jQuery.easing.easeInBounce(t,2*e,0,r,s)+i:.5*jQuery.easing.easeOutBounce(t,2*e-s,0,r,s)+.5*r+i}});var window_loaded=!1;jQuery(window).load(function(){window_loaded=!0}),function(Z){Z.fn.galleryView=function(t){var n,a,e,s,r,l,h,o,c,d,u,f,g,m,v,_,b,y,w,x,C,k,z,I=Z.extend(Z.fn.galleryView.defaults,t),M=0,j=0,B=!1,T=0,O=!0,R=0,W=0,P={},S={},L={},E={},N=!0,q=!1;function A(e,t,i){var r,s,o=e%j;if(Z(".gv-nav-next, .gv-panel-nav-next, .gv-nav-prev, .gv-panel-nav-prev",v).unbind("click"),b.unbind("click"),Z(document).oneTime(t,"bindNavButtons",function(){Z(".gv-nav-next, .gv-panel-nav-next",v).click(V),Z(".gv-nav-prev, .gv-panel-nav-prev",v).click(X),D()}),I.show_filmstrip&&(b.removeClass("current").find("img").stop().animate({opacity:I.frame_opacity},t),b.eq(e).addClass("current").find("img").stop().animate({opacity:1},t)),I.show_panels&&(O?"slide"==I.panel_animation?(w.eq(o).css({left:$(Z(".gv-panel.current").eq(0).css("left"))+I.panel_width+"px",zIndex:50}).show().animate({left:"-="+I.panel_width+"px"},t,I.easing,function(){Z(this).addClass("current")}),Z(".gv-panel.current").css({zIndex:49}).animate({left:"-="+I.panel_width+"px"},t,I.easing,function(){Z(this).removeClass("current").hide()})):"zoomOut"==I.panel_animation?(Z(document).oneTime(t,"setCurrentFrame",function(){w.eq(o).addClass("current").css("zIndex",50)}),w.eq(o).show().css("zIndex",49),Z(".gv-panel.current img").animate({top:"-="+I.panel_height/2+"px",left:"-="+I.panel_width/2+"px"},t,"swing",function(){Z(this).animate({top:"+="+I.panel_height/2+"px",left:"+="+I.panel_width/2+"px"},0)}),Z(".gv-panel.current").animate({top:"+="+I.panel_height/2+"px",left:"+="+I.panel_width/2+"px",height:0,width:0},t,"swing",function(){Z(this).removeClass("current").hide().css({top:Y(w[o]).top+"px",left:Y(w[o]).left+"px",height:I.panel_height+"px",width:I.panel_width+"px"})})):"crossfade"==I.panel_animation?w.removeClass("current").fadeOut(t,function(){Z(this).css("filter","")}).eq(o).addClass("current").fadeIn(t,function(){Z(this).css("filter","")}):(w.removeClass("current").stop().fadeOut(t/2),Z(document).oneTime(t/2,"fadeInPanel",function(){w.eq(o).addClass("current").stop().fadeIn(t/2)})):Z(document).oneTime(t,"switch_panels",function(){w.hide().eq(o).show()})),I.show_filmstrip)if("scroll"==I.filmstrip_style&&"strip"==a)_.stop(),"horizontal"==m?(s=(0<=(r=Y(b[e]).left-(Y(x[0]).left+h/2-f/2))?"-=":"+=")+Math.abs(r)+"px",_.animate({left:s},t,I.easing,function(){var t=e;j<e?(M=e=o,_.css("left","-"+(f+I.frame_gap)*e+"px")):e<=j-strip_size&&(M=e=o+j,_.css("left","-"+(f+I.frame_gap)*e+"px")),t!=e&&(b.eq(t).removeClass("current").find("img").css({opacity:I.frame_opacity}),b.eq(e).addClass("current").find("img").css({opacity:1}))})):(s=(0<=(r=Y(b[e]).top-Y(Z(".gv-strip_wrapper",v)[0]).top)?"-=":"+=")+Math.abs(r)+"px",_.animate({top:s},t,I.easing,function(){var t=e;j<e?(M=e=o,_.css("top","-"+(g+I.frame_gap)*e+"px")):e<=j-strip_size&&(M=e=o+j,_.css("top","-"+(g+I.frame_gap)*e+"px")),t!=e&&(b.eq(t).removeClass("current").find("img").css({opacity:I.frame_opacity}),b.eq(e).addClass("current").find("img").css({opacity:1})),O||w.hide().eq(o).show()}));else if("pointer"==a){x.stop();var n=Y(b[e]);"horizontal"==m?x.animate({left:n.left+f/2-h/2+"px"},T,I.easing,function(){O||w.hide().eq(o).show()}):x.animate({top:n.top+g/2-l+"px"},T,I.easing,function(){O||w.hide().eq(o).show()})}I.show_pager&&(z.removeClass("current-slide"),z.eq(o).addClass("current-slide")),i&&Z(document).oneTime(t,"showItemCallback",i),e}function Q(t){if(!t)return 0;if(0==t.length)return 0;var e=0;return e+=$((t=t.eq(0)).css("paddingLeft")),e+=$(t.css("paddingRight")),e+=$(t.css("borderLeftWidth")),e+=$(t.css("borderRightWidth"))}function H(t){if(!t)return 0;if(0==t.length)return 0;var e=0;return e+=$((t=t.eq(0)).css("paddingTop")),e+=$(t.css("paddingBottom")),e+=$(t.css("borderTopWidth")),e+=$(t.css("borderBottomWidth"))}function V(){Z(document).stopTime("transition"),++M==b.length&&(M=0),A(M,I.transition_speed),!B&&0<I.transition_interval&&Z(document).everyTime(I.transition_interval,"transition",function(){V()})}function X(){Z(document).stopTime("transition"),--M<0&&(M=j-1),A(M,I.transition_speed),!B&&0<I.transition_interval&&Z(document).everyTime(I.transition_interval,"transition",function(){V()})}function Y(t){if(!t)return{top:0,left:0};var e=0,i=0,r=t.id;if(t.offsetParent)for(;e+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;);if(r==n)return{left:e,top:i};var s=Y(v[0]);return{left:e-s.left,top:i-s.top}}function D(){b.each(function(t){0==Z("a",this).length&&Z(this).click(function(){M!=t&&(Z(document).stopTime("transition"),A(t,I.transition_speed),M=t,!B&&0<I.transition_interval&&Z(document).everyTime(I.transition_interval,"transition",function(){V()}))})})}function F(t,e){var i=Y(Z("#"+n+" .gv-panel_wrap")[0]),r=Y(v[0]),s=i.top+r.top,o=i.left+r.left;return o<t&&t<o+w.outerWidth()&&s<e&&e<s+w.outerHeight()}function $(t){return t=parseInt(t,10),isNaN(t)&&(t=0),t}function K(){(I.show_filmstrip?Z("img",b):Z("img",w)).each(function(t){L[t]=this.height,E[t]=this.width,"nocrop"==I.frame_scale?P[t]=Math.min(I.frame_height/L[t],I.frame_width/E[t]):P[t]=Math.max(I.frame_height/L[t],I.frame_width/E[t]),"nocrop"==I.panel_scale?S[t]=Math.min(I.panel_height/L[t],I.panel_width/E[t]):S[t]=Math.max(I.panel_height/L[t],I.panel_width/E[t])}),v.css({position:"relative",width:s+"px",height:r+"px"}),I.show_overlays||I.show_frame_overlays||Z(".gv-panel-overlay",v).remove(),I.show_filmstrip&&(!function(){_.wrap('<div class="gv-strip_wrapper"></div>'),"scroll"==I.filmstrip_style&&"strip"==a&&(b.clone().appendTo(_),b.clone().appendTo(_),b=Z("li",_)),I.show_captions&&b.append('<div class="gv-caption"></div>').each(function(t){Z(this).find(".gv-caption").html(Z(this).find("img").attr("title"))}),_.css({listStyle:"none",margin:0,padding:0,width:o+"px",position:"absolute",top:("vertical"==m&&"scroll"==I.filmstrip_style&&"strip"==a?-(g+I.frame_gap)*M:0)+"px",left:("horizontal"==m&&"scroll"==I.filmstrip_style&&"strip"==a?-(f+I.frame_gap)*M:0)+"px",height:c+"px"}),b.css({float:"left",position:"relative",height:g+(I.show_captions?f_caption_height:0)+"px",width:f+"px",padding:0,cursor:"pointer",marginBottom:I.frame_gap+"px",marginRight:I.frame_gap+"px"}),I.show_panels&&(_.css("zIndex","900"),b.css("zIndex","901")),Z(".gv-img_wrap",b).each(function(t){Z(this).css({height:Math.min(I.frame_height,L[t%j]*P[t%j])+"px",width:Math.min(I.frame_width,E[t%j]*P[t%j])+"px",position:"relative",top:(I.show_captions&&"top"==I.filmstrip_position?f_caption_height:0)+Math.max(0,(I.frame_height-P[t%j]*L[t%j])/2)+"px",left:Math.max(0,(I.frame_width-P[t%j]*E[t%j])/2)+"px",overflow:"hidden"})}),Z("img",b).each(function(t){Z(this).css({opacity:I.frame_opacity,height:L[t%j]*P[t%j]+"px",width:E[t%j]*P[t%j]+"px",position:"relative",top:Math.min(0,(I.frame_height-P[t%j]*L[t%j])/2)+"px",left:Math.min(0,(I.frame_width-P[t%j]*E[t%j])/2)+"px"}).mouseover(function(){Z(this).stop().animate({opacity:1},300)}).mouseout(function(){Z(this).parent().parent().hasClass("current")||Z(this).stop().animate({opacity:I.frame_opacity},300)})}),Z(".gv-strip_wrapper",v).css({position:"absolute",overflow:"hidden"}),"horizontal"==m?Z(".gv-strip_wrapper",v).css({top:I.show_panels?"top"==I.filmstrip_position?0:I.panel_height+I.frame_gap+"px":0,left:(s-d)/2+"px",width:d+"px",height:u+"px"}):Z(".gv-strip_wrapper",v).css({left:I.show_panels?"left"==I.filmstrip_position?0:I.panel_width+I.frame_gap+"px":0,top:0,width:d+"px",height:u+"px"}),Z(".gv-caption",v).css({position:"absolute",top:("bottom"==I.filmstrip_position?g:0)+"px",left:0,margin:0,width:f_caption_width+"px",overflow:"hidden"}),I.show_frame_overlays&&(b.each(function(t){0<Z(".gv-panel-overlay",this).length&&Z(this).append('<div class="gv-overlay-background"></div>')}),Z(".gv-panel-overlay",b).css({position:"absolute",zIndex:"3",width:f_caption_width-10+"px",left:"10px"}),Z(".gv-overlay-background",b).css({position:"absolute",zIndex:"2",width:f_caption_width+"px",left:0,opacity:I.overlay_opacity}),"top"==I.overlay_position?(Z(".gv-panel-overlay",b).css("top",0),Z(".gv-overlay-background",b).css("top",0)):(Z(".gv-panel-overlay",b).css("bottom",0),Z(".gv-overlay-background",b).css("bottom",0)));var t=Z("<div></div>");t.addClass("gv-pointer").appendTo(v).css({position:"absolute",zIndex:"1000",width:0,fontSize:0,lineHeight:0,borderTopWidth:l+"px",borderRightWidth:h/2+"px",borderBottomWidth:l+"px",borderLeftWidth:h/2+"px",borderStyle:"solid"});var e=Z.browser.msie&&"6"==Z.browser.version.substr(0,1)?"pink":"transparent";switch(I.show_panels||t.css("borderColor",e),I.filmstrip_position){case"top":t.css({top:u+"px",left:(s-d)/2+("strip"==a?0:(f+I.frame_gap)*M)+(f/2-h/2)+"px",borderBottomColor:e,borderRightColor:e,borderLeftColor:e});break;case"bottom":t.css({bottom:u+"px",left:(s-d)/2+("strip"==a?0:(f+I.frame_gap)*M)+(f/2-h/2)+"px",borderTopColor:e,borderRightColor:e,borderLeftColor:e});break;case"left":t.css({left:d+"px",top:g/2-l+("strip"==a?0:(g+I.frame_gap)*M)+"px",borderBottomColor:e,borderRightColor:e,borderTopColor:e});break;case"right":t.css({right:d+"px",top:g/2-l+("strip"==a?0:(g+I.frame_gap)*M)+"px",borderBottomColor:e,borderLeftColor:e,borderTopColor:e})}if(x=Z(".gv-pointer",v),I.show_filmstrip_nav){var i=Z("<div></div>");i.addClass("gv-nav-next").appendTo(v).css({position:"absolute"}).click(V);var r=Z("<div></div>");r.addClass("gv-nav-prev").appendTo(v).css({position:"absolute"}).click(X),"horizontal"==m?(i.css({top:(I.show_panels?"top"==I.filmstrip_position?0:I.panel_height+I.frame_gap:0)+(c-22)/2+"px",right:s/2-d/2-I.frame_gap-22+"px"}),r.css({top:(I.show_panels?"top"==I.filmstrip_position?0:I.panel_height+I.frame_gap:0)+(c-22)/2+"px",left:s/2-d/2-I.frame_gap-22+"px"})):(i.css({left:(I.show_panels?"left"==I.filmstrip_position?0:I.panel_width+I.frame_gap:0)+(o-22)/2+13+"px",top:u+I.frame_gap+"px"}),r.css({left:(I.show_panels?"left"==I.filmstrip_position?0:I.panel_width+I.frame_gap:0)+(o-22)/2-13+"px",top:u+I.frame_gap+"px"}))}}(),D()),I.show_pager&&(k.css({position:"relative",top:u+10+"px",padding:0,margin:"10px auto 0",width:17*j+"px"}),z.css({margin:"0 5px 0 0"}),z.each(function(t){Z(this).click(function(){if(Z(document).stopTime("transition"),t<M%j)for(;--M%j>t;);else for(;++M%j<t;);A(M,I.transition_speed),B=!0})})),I.show_panels&&function(){if(w.each(function(t){0<Z(".gv-panel-overlay",this).length&&Z(this).append('<div class="gv-overlay-background"></div>')}),I.show_panel_nav&&(Z("<div></div>").addClass("gv-panel-nav-next").appendTo(v).css({position:"absolute",zIndex:"1100",top:("top"==I.filmstrip_position?I.frame_gap+u:0)+(I.panel_height-22)/2+"px",right:("right"==I.filmstrip_position?I.frame_gap+d:0)+10+"px",display:"none"}).click(V),Z("<div></div>").addClass("gv-panel-nav-prev").appendTo(v).css({position:"absolute",zIndex:"1100",top:("top"==I.filmstrip_position?I.frame_gap+u:0)+(I.panel_height-22)/2+"px",left:("left"==I.filmstrip_position?I.frame_gap+d:0)+10+"px",display:"none"}).click(X)),C.css({width:I.panel_width+"px",height:I.panel_height+"px",position:"absolute",overflow:"hidden"}),I.show_filmstrip)switch(I.filmstrip_position){case"top":C.css({top:u+I.frame_gap+"px"});break;case"left":C.css({left:d+I.frame_gap+"px"})}w.each(function(t){Z(this).css({width:I.panel_width-Q(w)+"px",height:I.panel_height-H(w)+"px",position:"absolute",top:0,left:0,display:"none"})}),Z(".gv-panel-overlay",w).css({position:"absolute",zIndex:"999",width:I.panel_width-Q(Z(".gv-panel-overlay",w))+"px",left:0}),Z(".gv-overlay-background",w).css({position:"absolute",zIndex:"998",width:I.panel_width+"px",left:0,opacity:I.overlay_opacity}),"top"==I.overlay_position?(Z(".gv-panel-overlay",w).css("top",0),Z(".gv-overlay-background",w).css("top",0)):(Z(".gv-panel-overlay",w).css("bottom",0),Z(".gv-overlay-background",w).css("bottom",0)),Z(".gv-panel iframe",w).css({width:I.panel_width+"px",height:I.panel_height+"px",border:0}),N&&Z("img",w).each(function(t){Z(this).css({height:S[t%j]*L[t%j],width:S[t%j]*E[t%j],position:"relative",top:(I.panel_height-S[t%j]*L[t%j])/2+"px",left:(I.panel_width-S[t%j]*E[t%j])/2+"px"})})}(),(I.pause_on_hover||I.show_panel_nav)&&Z(document).mousemove(function(t){var e,i,r,s,o;I.pause_on_hover&&(e=t.pageX,i=t.pageY,r=Y(v[0]),s=r.top,(o=r.left)<e&&e<o+v.outerWidth()&&s<i&&i<s+v.outerHeight()&&!B?Z(document).oneTime(500,"animation_pause",function(){Z(document).stopTime("transition"),B=!0}):(Z(document).stopTime("animation_pause"),B&&0<I.transition_interval&&(Z(document).everyTime(I.transition_interval,"transition",function(){V()}),B=!1))),I.show_panel_nav&&(F(t.pageX,t.pageY)&&!q?(Z(".gv-panel-nav-next, .gv-panel-nav-prev",v).show(),q=!0):!F(t.pageX,t.pageY)&&q&&(Z(".gv-panel-nav-next, .gv-panel-nav-prev",v).hide(),q=!1))}),_.css("visibility","visible"),v.css("visibility","visible"),A(M,10,function(){Z(".gv-loader",v).fadeOut("1000",function(){1<j&&0<I.transition_interval&&Z(document).everyTime(I.transition_interval,"transition",function(){V()})})})}return this.each(function(){var t=Z(this);if(t.css("visibility","hidden"),e=Z("img",t),R=e.length,I.start_frame-1,t.wrap("<div></div>"),(v=t.parent()).css("visibility","hidden").attr("id",t.attr("id")).addClass("gv-gallery").addClass(t.attr("class")),t.removeAttr("id").addClass("gv-filmstrip"),Z(document).stopTime("transition"),Z(document).stopTime("animation_pause"),n=v.attr("id"),N=0==Z(".gv-panel-content",v).length,O="none"!=I.panel_animation,"vertical"==(m="top"==I.filmstrip_position||"bottom"==I.filmstrip_position?"horizontal":"vertical")&&(I.show_captions=!1),"horizontal"==m&&I.pointer_size>I.frame_width/2&&(I.pointer_size=I.frame_width/2),"vertical"==m&&I.pointer_size>I.frame_height/2&&(I.pointer_size=I.frame_height/2),_=Z(".gv-filmstrip",v),(b=Z("li",_)).addClass("gv-frame"),(C=Z("<div>")).addClass("gv-panel_wrap").prependTo(v),(k=Z("<ul>")).addClass("gv-pager").appendTo(v),I.show_panels)for(i=b.length-1;0<=i;i--)jf=b.eq(i),0<jf.find(".gv-panel-content").length?jf.find(".gv-panel-content").remove().prependTo(C).addClass("gv-panel").addClass(jf.attr("class")).removeClass("gv-frame"):(p=Z("<div>"),p.addClass("gv-panel"),p.addClass(jf.attr("class")).removeClass("gv-frame"),im=Z("<img />"),jfimg=jf.find("img").eq(0),im.attr("src",jfimg.attr("src")),0<jfimg.parent("a").length?(ima=Z("<a></a>"),ima.attr("href",jfimg.parent("a").eq(0).attr("href")),ima.attr("target",jfimg.parent("a").eq(0).attr("target")),ima.append(im),ima.appendTo(p)):im.appendTo(p),p.prependTo(C),b.eq(i).find(".gv-panel-overlay").remove().appendTo(p));else I.show_frame_overlays||(Z(".gv-panel-overlay",b).remove(),Z(".gv-panel-content",b).remove());if(I.show_pager)for(i=1;i<=b.length;i++)p=Z("<li>"),p.addClass("gv-pager-item"),p.text(i),p.appendTo(k);z=Z(".gv-pager-item",k),I.show_filmstrip?(b.each(function(t){0<Z(this).find("a").length?Z(this).find("a").wrap('<div class="gv-img_wrap"></div>'):Z(this).find("img").wrap('<div class="gv-img_wrap"></div>')}),y=Z(".gv-img_wrap",b)):_.remove(),w=Z(".gv-panel",v),I.show_panels||(I.panel_height=0,I.panel_width=0),Z('<div class="gv-caption"></div>').appendTo(b),f=I.frame_width+Q(y),g=I.frame_height+H(y),frame_caption_size=$(Z(".gv-caption",v).css("height")),f_caption_width=f-Q(Z(".gv-caption",v)),f_caption_height=frame_caption_size+H(Z(".gv-caption",v)),Z(".gv-caption",v).remove(),j=I.show_panels?w.length:b.length,strip_size="horizontal"==m?I.show_panels?Math.floor((I.panel_width+I.frame_gap-(I.show_filmstrip_nav?2*(I.frame_gap+22):0))/(f+I.frame_gap)):Math.min(j,I.filmstrip_size):I.show_panels?Math.floor((I.panel_height+I.frame_gap-(I.show_filmstrip_nav?I.frame_gap+22:0))/(g+I.frame_gap)):Math.min(j,I.filmstrip_size),strip_size>=j?(a="pointer",strip_size=j):a="strip",1<Math.ceil(j/strip_size)&&(I.pointer_size=0),l=I.pointer_size,h=2*I.pointer_size,M=I.start_frame-1,"scroll"==I.filmstrip_style&&strip_size<j&&(M+=j),_.css("margin",0),o="horizontal"==m?"show all"==I.filmstrip_style||"scroll"==I.filmstrip_style&&"pointer"==a?f*strip_size+I.frame_gap*strip_size:f*j*3+I.frame_gap*(3*j):"show all"==I.filmstrip_style?f*Math.ceil(j/strip_size)+I.frame_gap*Math.ceil(j/strip_size):f,c="horizontal"==m?"show all"==I.filmstrip_style?(g+(I.show_captions?f_caption_height:0))*Math.ceil(j/strip_size)+I.frame_gap*(Math.ceil(j/strip_size)-1):g+(I.show_captions?f_caption_height:0):"show all"==I.filmstrip_style||"scroll"==I.filmstrip_style&&"pointer"==a?g*strip_size+I.frame_gap*(strip_size-1):g*j*3+I.frame_gap*(3*j-1),"horizontal"==m?(d=strip_size*f+(strip_size-1)*I.frame_gap,u="show all"==I.filmstrip_style?(g+(I.show_captions?f_caption_height:0))*Math.ceil(j/strip_size)+I.frame_gap*(Math.ceil(j/strip_size)-1):g+(I.show_captions?f_caption_height:0)):(u=strip_size*g+(strip_size-1)*I.frame_gap,d="show all"==I.filmstrip_style?f*Math.ceil(j/strip_size)+I.frame_gap*(Math.ceil(j/strip_size)-1):f),v.css("padding",0),"horizontal"==m?(s=I.show_panels?I.panel_width:d+44+2*I.frame_gap,r=(I.show_panels?I.panel_height+(I.show_filmstrip?I.frame_gap:0):0)+(I.show_filmstrip?u:0)+(I.show_pager?22:0)):(r=I.show_panels?I.panel_height:u+22,s=(I.show_panels?I.panel_width+(I.show_filmstrip?I.frame_gap:0):0)+(I.show_filmstrip?d:0)),galleryPos=Y(v[0]),Z("<div>").addClass("gv-loader").css({position:"absolute",zIndex:"32666",opacity:1,top:0,left:0,width:s+"px",height:r+"px"}).appendTo(v),I.transition_speed>I.transition_interval&&0<I.transition_interval&&(I.transition_speed=I.transition_interval),T=I.animate_pointer?I.transition_speed:0,window_loaded?K():e.each(function(t){Z(this).attr("complete")?++W==R&&K():Z(this).load(function(){++W==R&&K()})})})},Z.fn.galleryView.defaults={transition_speed:800,transition_interval:4e3,easing:"swing",pause_on_hover:!1,show_panels:!0,panel_width:600,panel_height:400,panel_animation:"crossfade",overlay_opacity:.7,overlay_position:"bottom",panel_scale:"crop",show_panel_nav:!0,show_overlays:!1,show_filmstrip:!0,frame_width:60,frame_height:40,start_frame:1,filmstrip_size:3,frame_opacity:.3,filmstrip_style:"scroll",filmstrip_position:"bottom",show_filmstrip_nav:!0,frame_scale:"crop",frame_gap:5,show_captions:!1,show_frame_overlays:!0,show_pager:!0,pointer_size:8,animate_pointer:!0}}(jQuery);var window_loaded=!1;function browserdetect(){var t=navigator.userAgent.toLowerCase();if(this.isIE=-1<t.indexOf("msie"),this.isIE)this.ieVer=/msie\s(\d\.\d)/.exec(t)[1],this.quirksMode=!document.compatMode||-1<document.compatMode.indexOf("BackCompat"),this.get_style=function(t,e){if(!(e in t.currentStyle))return"";var i=/^([\d.]+)(\w*)/.exec(t.currentStyle[e]);if(!i)return t.currentStyle[e];if(0==i[1])return"0";if(i[2]&&"px"!==i[2]){var r=t.style.left,s=t.runtimeStyle.left;t.runtimeStyle.left=t.currentStyle.left,t.style.left=i[1]+i[2],i[0]=t.style.pixelLeft,t.style.left=r,t.runtimeStyle.left=s}return i[0]},this.supportsCorners=!1;else if(this.ieVer=this.quirksMode=0,this.get_style=function(t,e){return e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),document.defaultView.getComputedStyle(t,"").getPropertyValue(e)},this.isSafari=-1!=t.indexOf("safari"),this.isWebKit=-1!=t.indexOf("webkit"),this.isOp="opera"in window,this.isOp)this.supportsCorners=10.5<=(this.isOp=window.opera.version());else{if(!this.isWebkit&&!(this.isMoz=-1!==t.indexOf("firefox")))for(var e=document.childNodes.length;0<=--e;)if("style"in document.childNodes[e]){this.isMoz="MozBorderRadius"in document.childNodes[e].style;break}this.supportsCorners=this.isWebKit||this.isMoz}}$(window).load(function(){window_loaded=!0}),function($){$.fn.galleryView=function(t){var n,a,e,s,r,l,h,o,c,d,u,f,g,m,v,_,b,y,w,x,C,k=$.extend($.fn.galleryView.defaults,t),z=0,I=0,M=!1,j=0,B=!0,T=0,O=0,R={},W={},P={},S={},L=!0,E=!1;function N(e,t,i){var r,s,o=e%I;if($(".gv-nav-next, .gv-panel-nav-next, .gv-nav-prev, .gv-panel-nav-prev",v).unbind("click"),b.unbind("click"),$(document).oneTime(t,"bindNavButtons",function(){$(".gv-nav-next, .gv-panel-nav-next",v).click(Q),$(".gv-nav-prev, .gv-panel-nav-prev",v).click(H),X()}),k.show_filmstrip&&(b.removeClass("current").find("img").stop().animate({opacity:k.frame_opacity},t),b.eq(e).addClass("current").find("img").stop().animate({opacity:1},t)),k.show_panels&&(B?"slide"==k.panel_animation?(w.eq(o).css({left:D($(".gv-panel.current").eq(0).css("left"))+k.panel_width+"px",zIndex:50}).show().animate({left:"-="+k.panel_width+"px"},t,k.easing,function(){$(this).addClass("current")}),$(".gv-panel.current").css({zIndex:49}).animate({left:"-="+k.panel_width+"px"},t,k.easing,function(){$(this).removeClass("current").hide()})):"zoomOut"==k.panel_animation?($(document).oneTime(t,"setCurrentFrame",function(){w.eq(o).addClass("current").css("zIndex",50)}),w.eq(o).show().css("zIndex",49),$(".gv-panel.current img").animate({top:"-="+k.panel_height/2+"px",left:"-="+k.panel_width/2+"px"},t,"swing",function(){$(this).animate({top:"+="+k.panel_height/2+"px",left:"+="+k.panel_width/2+"px"},0)}),$(".gv-panel.current").animate({top:"+="+k.panel_height/2+"px",left:"+="+k.panel_width/2+"px",height:0,width:0},t,"swing",function(){$(this).removeClass("current").hide().css({top:V(w[o]).top+"px",left:V(w[o]).left+"px",height:k.panel_height+"px",width:k.panel_width+"px"})})):"crossfade"==k.panel_animation?w.removeClass("current").fadeOut(t,function(){$(this).css("filter","")}).eq(o).addClass("current").fadeIn(t,function(){$(this).css("filter","")}):(w.removeClass("current").stop().fadeOut(t/2),$(document).oneTime(t/2,"fadeInPanel",function(){w.eq(o).addClass("current").stop().fadeIn(t/2)})):$(document).oneTime(t,"switch_panels",function(){w.hide().eq(o).show()})),k.show_filmstrip)if("scroll"==k.filmstrip_style&&"strip"==a)_.stop(),"horizontal"==m?(s=(0<=(r=V(b[e]).left-(V(x[0]).left+h/2-f/2))?"-=":"+=")+Math.abs(r)+"px",_.animate({left:s},t,k.easing,function(){var t=e;I<e?(z=e=o,_.css("left","-"+(f+k.frame_gap)*e+"px")):e<=I-strip_size&&(z=e=o+I,_.css("left","-"+(f+k.frame_gap)*e+"px")),t!=e&&(b.eq(t).removeClass("current").find("img").css({opacity:k.frame_opacity}),b.eq(e).addClass("current").find("img").css({opacity:1}))})):(s=(0<=(r=V(b[e]).top-V($(".gv-strip_wrapper",v)[0]).top)?"-=":"+=")+Math.abs(r)+"px",_.animate({top:s},t,k.easing,function(){var t=e;I<e?(z=e=o,_.css("top","-"+(g+k.frame_gap)*e+"px")):e<=I-strip_size&&(z=e=o+I,_.css("top","-"+(g+k.frame_gap)*e+"px")),t!=e&&(b.eq(t).removeClass("current").find("img").css({opacity:k.frame_opacity}),b.eq(e).addClass("current").find("img").css({opacity:1})),B||w.hide().eq(o).show()}));else if("pointer"==a){x.stop();var n=V(b[e]);"horizontal"==m?x.animate({left:n.left+f/2-h/2+"px"},j,k.easing,function(){B||w.hide().eq(o).show()}):x.animate({top:n.top+g/2-l+"px"},j,k.easing,function(){B||w.hide().eq(o).show()})}i&&$(document).oneTime(t,"showItemCallback",i),e}function q(t){if(!t)return 0;if(0==t.length)return 0;var e=0;return e+=D((t=t.eq(0)).css("paddingLeft")),e+=D(t.css("paddingRight")),e+=D(t.css("borderLeftWidth")),e+=D(t.css("borderRightWidth"))}function A(t){if(!t)return 0;if(0==t.length)return 0;var e=0;return e+=D((t=t.eq(0)).css("paddingTop")),e+=D(t.css("paddingBottom")),e+=D(t.css("borderTopWidth")),e+=D(t.css("borderBottomWidth"))}function Q(){$(document).stopTime("transition"),++z==b.length&&(z=0),N(z,k.transition_speed),!M&&0<k.transition_interval&&$(document).everyTime(k.transition_interval,"transition",function(){Q()})}function H(){$(document).stopTime("transition"),--z<0&&(z=I-1),N(z,k.transition_speed),!M&&0<k.transition_interval&&$(document).everyTime(k.transition_interval,"transition",function(){Q()})}function V(t){if(!t)return{top:0,left:0};var e=0,i=0,r=t.id;if(t.offsetParent)for(;e+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;);if(r==n)return{left:e,top:i};var s=V(v[0]);return{left:e-s.left,top:i-s.top}}function X(){b.each(function(t){0==$("a",this).length&&$(this).click(function(){z!=t&&($(document).stopTime("transition"),N(t,k.transition_speed),z=t,!M&&0<k.transition_interval&&$(document).everyTime(k.transition_interval,"transition",function(){Q()}))})})}function Y(t,e){var i=V($("#"+n+" .gv-panel_wrap")[0]),r=V(v[0]),s=i.top+r.top,o=i.left+r.left;return o<t&&t<o+w.outerWidth()&&s<e&&e<s+w.outerHeight()}function D(t){return t=parseInt(t,10),isNaN(t)&&(t=0),t}function F(){(k.show_filmstrip?$("img",b):$("img",w)).each(function(t){P[t]=this.height,S[t]=this.width,"nocrop"==k.frame_scale?R[t]=Math.min(k.frame_height/P[t],k.frame_width/S[t]):R[t]=Math.max(k.frame_height/P[t],k.frame_width/S[t]),"nocrop"==k.panel_scale?W[t]=Math.min(k.panel_height/P[t],k.panel_width/S[t]):W[t]=Math.max(k.panel_height/P[t],k.panel_width/S[t])}),v.css({position:"relative",width:s+"px",height:r+"px"}),k.show_filmstrip&&(!function(){_.wrap('<div class="gv-strip_wrapper"></div>'),"scroll"==k.filmstrip_style&&"strip"==a&&(b.clone().appendTo(_),b.clone().appendTo(_),b=$("li",_)),k.show_captions&&b.append('<div class="gv-caption"></div>').each(function(t){$(this).find(".gv-caption").html($(this).find("img").attr("title"))}),_.css({listStyle:"none",margin:0,padding:0,width:o+"px",position:"absolute",zIndex:"900",top:("vertical"==m&&"scroll"==k.filmstrip_style&&"strip"==a?-(g+k.frame_gap)*z:0)+"px",left:("horizontal"==m&&"scroll"==k.filmstrip_style&&"strip"==a?-(f+k.frame_gap)*z:0)+"px",height:c+"px"}),b.css({float:"left",position:"relative",height:g+(k.show_captions?f_caption_height:0)+"px",width:f+"px",zIndex:"901",padding:0,cursor:"pointer",marginBottom:k.frame_gap+"px",marginRight:k.frame_gap+"px"}),$(".gv-img_wrap",b).each(function(t){$(this).css({height:Math.min(k.frame_height,P[t%I]*R[t%I])+"px",width:Math.min(k.frame_width,S[t%I]*R[t%I])+"px",position:"relative",top:(k.show_captions&&"top"==k.filmstrip_position?f_caption_height:0)+Math.max(0,(k.frame_height-R[t%I]*P[t%I])/2)+"px",left:Math.max(0,(k.frame_width-R[t%I]*S[t%I])/2)+"px",overflow:"hidden"})}),$("img",b).each(function(t){$(this).css({opacity:k.frame_opacity,height:P[t%I]*R[t%I]+"px",width:S[t%I]*R[t%I]+"px",position:"relative",top:Math.min(0,(k.frame_height-R[t%I]*P[t%I])/2)+"px",left:Math.min(0,(k.frame_width-R[t%I]*S[t%I])/2)+"px"}).mouseover(function(){$(this).stop().animate({opacity:1},300)}).mouseout(function(){$(this).parent().parent().hasClass("current")||$(this).stop().animate({opacity:k.frame_opacity},300)})}),$(".gv-strip_wrapper",v).css({position:"absolute",overflow:"hidden"}),"horizontal"==m?$(".gv-strip_wrapper",v).css({top:k.show_panels?"top"==k.filmstrip_position?0:k.panel_height+k.frame_gap+"px":0,left:(s-d)/2+"px",width:d+"px",height:u+"px"}):$(".gv-strip_wrapper",v).css({left:k.show_panels?"left"==k.filmstrip_position?0:k.panel_width+k.frame_gap+"px":0,top:0,width:d+"px",height:u+"px"}),$(".gv-caption",v).css({position:"absolute",top:("bottom"==k.filmstrip_position?g:0)+"px",left:0,margin:0,width:f_caption_width+"px",overflow:"hidden"});var t=$("<div></div>");t.addClass("gv-pointer").appendTo(v).css({position:"absolute",zIndex:"1000",width:0,fontSize:0,lineHeight:0,borderTopWidth:l+"px",borderRightWidth:h/2+"px",borderBottomWidth:l+"px",borderLeftWidth:h/2+"px",borderStyle:"solid"});var e=$.browser.msie&&"6"==$.browser.version.substr(0,1)?"pink":"transparent";switch(k.show_panels||t.css("borderColor",e),k.filmstrip_position){case"top":t.css({top:u+"px",left:(s-d)/2+("strip"==a?0:(f+k.frame_gap)*z)+(f/2-h/2)+"px",borderBottomColor:e,borderRightColor:e,borderLeftColor:e});break;case"bottom":t.css({bottom:u+"px",left:(s-d)/2+("strip"==a?0:(f+k.frame_gap)*z)+(f/2-h/2)+"px",borderTopColor:e,borderRightColor:e,borderLeftColor:e});break;case"left":t.css({left:d+"px",top:g/2-l+("strip"==a?0:(g+k.frame_gap)*z)+"px",borderBottomColor:e,borderRightColor:e,borderTopColor:e});break;case"right":t.css({right:d+"px",top:g/2-l+("strip"==a?0:(g+k.frame_gap)*z)+"px",borderBottomColor:e,borderLeftColor:e,borderTopColor:e})}if(x=$(".gv-pointer",v),k.show_filmstrip_nav){var i=$("<div></div>");i.addClass("gv-nav-next").appendTo(v).css({position:"absolute"}).click(Q);var r=$("<div></div>");r.addClass("gv-nav-prev").appendTo(v).css({position:"absolute"}).click(H),"horizontal"==m?(i.css({top:(k.show_panels?"top"==k.filmstrip_position?0:k.panel_height+k.frame_gap:0)+(c-22)/2+"px",right:s/2-d/2-k.frame_gap-22+"px"}),r.css({top:(k.show_panels?"top"==k.filmstrip_position?0:k.panel_height+k.frame_gap:0)+(c-22)/2+"px",left:s/2-d/2-k.frame_gap-22+"px"})):(i.css({left:(k.show_panels?"left"==k.filmstrip_position?0:k.panel_width+k.frame_gap:0)+(o-22)/2+13+"px",top:u+k.frame_gap+"px"}),r.css({left:(k.show_panels?"left"==k.filmstrip_position?0:k.panel_width+k.frame_gap:0)+(o-22)/2-13+"px",top:u+k.frame_gap+"px"}))}}(),X()),k.show_overlays||$(".gv-panel-overlay",v).remove(),k.show_panels&&function(){if(w.each(function(t){0<$(".gv-panel-overlay",this).length&&$(this).append('<div class="gv-overlay-background"></div>')}),k.show_panel_nav&&($("<div></div>").addClass("gv-panel-nav-next").appendTo(v).css({position:"absolute",zIndex:"1100",top:("top"==k.filmstrip_position?k.frame_gap+u:0)+(k.panel_height-22)/2+"px",right:("right"==k.filmstrip_position?k.frame_gap+d:0)+10+"px",display:"none"}).click(Q),$("<div></div>").addClass("gv-panel-nav-prev").appendTo(v).css({position:"absolute",zIndex:"1100",top:("top"==k.filmstrip_position?k.frame_gap+u:0)+(k.panel_height-22)/2+"px",left:("left"==k.filmstrip_position?k.frame_gap+d:0)+10+"px",display:"none"}).click(H)),C.css({width:k.panel_width+"px",height:k.panel_height+"px",position:"absolute",overflow:"hidden"}),k.show_filmstrip)switch(k.filmstrip_position){case"top":C.css({top:u+k.frame_gap+"px"});break;case"left":C.css({left:d+k.frame_gap+"px"})}w.each(function(t){$(this).css({width:k.panel_width-q(w)+"px",height:k.panel_height-A(w)+"px",position:"absolute",top:0,left:0,display:"none"})}),$(".gv-panel-overlay",w).css({position:"absolute",zIndex:"999",width:k.panel_width-q($(".gv-panel-overlay",w))+"px",left:0}),$(".gv-overlay-background",w).css({position:"absolute",zIndex:"998",width:k.panel_width+"px",left:0,opacity:k.overlay_opacity}),"top"==k.overlay_position?($(".gv-panel-overlay",w).css("top",0),$(".gv-overlay-background",w).css("top",0)):($(".gv-panel-overlay",w).css("bottom",0),$(".gv-overlay-background",w).css("bottom",0)),$(".gv-panel iframe",w).css({width:k.panel_width+"px",height:k.panel_height+"px",border:0}),L&&$("img",w).each(function(t){$(this).css({height:W[t%I]*P[t%I],width:W[t%I]*S[t%I],position:"relative",top:(k.panel_height-W[t%I]*P[t%I])/2+"px",left:(k.panel_width-W[t%I]*S[t%I])/2+"px"})})}(),(k.pause_on_hover||k.show_panel_nav)&&$(document).mousemove(function(t){var e,i,r,s,o;k.pause_on_hover&&(e=t.pageX,i=t.pageY,r=V(v[0]),s=r.top,(o=r.left)<e&&e<o+v.outerWidth()&&s<i&&i<s+v.outerHeight()&&!M?$(document).oneTime(500,"animation_pause",function(){$(document).stopTime("transition"),M=!0}):($(document).stopTime("animation_pause"),M&&0<k.transition_interval&&($(document).everyTime(k.transition_interval,"transition",function(){Q()}),M=!1))),k.show_panel_nav&&(Y(t.pageX,t.pageY)&&!E?($(".gv-panel-nav-next, .gv-panel-nav-prev",v).show(),E=!0):!Y(t.pageX,t.pageY)&&E&&($(".gv-panel-nav-next, .gv-panel-nav-prev",v).hide(),E=!1))}),_.css("visibility","visible"),v.css("visibility","visible"),N(z,10,function(){$(".gv-loader",v).fadeOut("1000",function(){1<I&&0<k.transition_interval&&$(document).everyTime(k.transition_interval,"transition",function(){Q()})})})}return this.each(function(){var t=$(this);if(t.css("visibility","hidden"),e=$("img",t),T=e.length,k.start_frame-1,t.wrap("<div></div>"),(v=t.parent()).css("visibility","hidden").attr("id",t.attr("id")).addClass("gv-gallery").addClass(t.attr("class")),t.removeAttr("id").addClass("gv-filmstrip"),$(document).stopTime("transition"),$(document).stopTime("animation_pause"),n=v.attr("id"),L=0==$(".gv-panel-content",v).length,B="none"!=k.panel_animation,"vertical"==(m="top"==k.filmstrip_position||"bottom"==k.filmstrip_position?"horizontal":"vertical")&&(k.show_captions=!1),"horizontal"==m&&k.pointer_size>k.frame_width/2&&(k.pointer_size=k.frame_width/2),"vertical"==m&&k.pointer_size>k.frame_height/2&&(k.pointer_size=k.frame_height/2),_=$(".gv-filmstrip",v),(b=$("li",_)).addClass("gv-frame"),(C=$("<div>")).addClass("gv-panel_wrap").prependTo(v),k.show_panels)for(i=b.length-1;0<=i;i--)jf=b.eq(i),0<jf.find(".gv-panel-content").length?jf.find(".gv-panel-content").remove().prependTo(C).addClass("gv-panel").addClass(jf.attr("class")).removeClass("gv-frame"):(p=$("<div>"),p.addClass("gv-panel"),p.addClass(jf.attr("class")).removeClass("gv-frame"),im=$("<img />"),jfimg=jf.find("img").eq(0),im.attr("src",jfimg.attr("src")),0<jfimg.parent("a").length?(ima=$("<a></a>"),ima.attr("href",jfimg.parent("a").eq(0).attr("href")),ima.attr("target",jfimg.parent("a").eq(0).attr("target")),ima.append(im),ima.appendTo(p)):im.appendTo(p),p.prependTo(C),b.eq(i).find(".gv-panel-overlay").remove().appendTo(p));else $(".gv-panel-overlay",b).remove(),$(".gv-panel-content",b).remove();k.show_filmstrip?(b.each(function(t){0<$(this).find("a").length?$(this).find("a").wrap('<div class="gv-img_wrap"></div>'):$(this).find("img").wrap('<div class="gv-img_wrap"></div>')}),y=$(".gv-img_wrap",b)):_.remove(),w=$(".gv-panel",v),k.show_panels||(k.panel_height=0,k.panel_width=0),$('<div class="gv-caption"></div>').appendTo(b),f=k.frame_width+q(y),g=k.frame_height+A(y),frame_caption_size=D($(".gv-caption",v).css("height")),f_caption_width=f-q($(".gv-caption",v)),f_caption_height=frame_caption_size+A($(".gv-caption",v)),$(".gv-caption",v).remove(),I=k.show_panels?w.length:b.length,strip_size="horizontal"==m?k.show_panels?Math.floor((k.panel_width+k.frame_gap-(k.show_filmstrip_nav?2*(k.frame_gap+22):0))/(f+k.frame_gap)):Math.min(I,k.filmstrip_size):k.show_panels?Math.floor((k.panel_height+k.frame_gap-(k.show_filmstrip_nav?k.frame_gap+22:0))/(g+k.frame_gap)):Math.min(I,k.filmstrip_size),strip_size>=I?(a="pointer",strip_size=I):a="strip",1<Math.ceil(I/strip_size)&&(k.pointer_size=0),l=k.pointer_size,h=2*k.pointer_size,z=k.start_frame-1,"scroll"==k.filmstrip_style&&strip_size<I&&(z+=I),_.css("margin",0),o="horizontal"==m?"show all"==k.filmstrip_style||"scroll"==k.filmstrip_style&&"pointer"==a?f*strip_size+k.frame_gap*strip_size:f*I*3+k.frame_gap*(3*I):"show all"==k.filmstrip_style?f*Math.ceil(I/strip_size)+k.frame_gap*Math.ceil(I/strip_size):f,c="horizontal"==m?"show all"==k.filmstrip_style?(g+(k.show_captions?f_caption_height:0))*Math.ceil(I/strip_size)+k.frame_gap*(Math.ceil(I/strip_size)-1):g+(k.show_captions?f_caption_height:0):"show all"==k.filmstrip_style||"scroll"==k.filmstrip_style&&"pointer"==a?g*strip_size+k.frame_gap*(strip_size-1):g*I*3+k.frame_gap*(3*I-1),"horizontal"==m?(d=strip_size*f+(strip_size-1)*k.frame_gap,u="show all"==k.filmstrip_style?(g+(k.show_captions?f_caption_height:0))*Math.ceil(I/strip_size)+k.frame_gap*(Math.ceil(I/strip_size)-1):g+(k.show_captions?f_caption_height:0)):(u=strip_size*g+(strip_size-1)*k.frame_gap,d="show all"==k.filmstrip_style?f*Math.ceil(I/strip_size)+k.frame_gap*(Math.ceil(I/strip_size)-1):f),v.css("padding",0),"horizontal"==m?(s=k.show_panels?k.panel_width:d+44+2*k.frame_gap,r=(k.show_panels?k.panel_height+(k.show_filmstrip?k.frame_gap:0):0)+(k.show_filmstrip?u:0)):(r=k.show_panels?k.panel_height:u+22,s=(k.show_panels?k.panel_width+(k.show_filmstrip?k.frame_gap:0):0)+(k.show_filmstrip?d:0)),galleryPos=V(v[0]),$("<div>").addClass("gv-loader").css({position:"absolute",zIndex:"32666",opacity:1,top:0,left:0,width:s+"px",height:r+"px"}).appendTo(v),k.transition_speed>k.transition_interval&&0<k.transition_interval&&(k.transition_speed=k.transition_interval),j=k.animate_pointer?k.transition_speed:0,window_loaded?F():e.each(function(t){$(this).attr("complete")?++O==T&&F():$(this).load(function(){++O==T&&F()})})})},$.fn.galleryView.defaults={transition_speed:800,transition_interval:4e3,easing:"swing",pause_on_hover:!1,show_panels:!0,panel_width:600,panel_height:400,panel_animation:"crossfade",overlay_opacity:.7,overlay_position:"bottom",panel_scale:"crop",show_panel_nav:!0,show_overlays:!1,show_filmstrip:!0,frame_width:60,frame_height:40,start_frame:1,filmstrip_size:3,frame_opacity:.3,filmstrip_style:"scroll",filmstrip_position:"bottom",show_filmstrip_nav:!0,frame_scale:"crop",frame_gap:5,show_captions:!1,pointer_size:8,animate_pointer:!0}}(jQuery),function(t){t(document).ready(function(){t("#rotator").galleryView({show_panels:!1,filmstrip_size:3,frame_width:541,frame_height:326,frame_opacity:1,show_filmstrip_nav:!1,frame_gap:20,transition_interval:5600})})}(jQuery),jQuery.fn.extend({everyTime:function(t,e,i,r){return this.each(function(){jQuery.timer.add(this,t,e,i,r)})},oneTime:function(t,e,i){return this.each(function(){jQuery.timer.add(this,t,e,i,1)})},stopTime:function(t,e){return this.each(function(){jQuery.timer.remove(this,t,e)})}}),jQuery.extend({timer:{global:[],guid:1,dataKey:"jQuery.timer",regex:/^([0-9]+(?:\.[0-9]*)?)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1e3,das:1e4,hs:1e5,ks:1e6},timeParse:function(t){if(null==t||null==t)return null;var e=this.regex.exec(jQuery.trim(t.toString()));return e[2]?parseFloat(e[1])*(this.powers[e[2]]||1):t},add:function(t,e,i,r,s){var o=0;if(jQuery.isFunction(i)&&(s||(s=r),r=i,i=e),!("number"!=typeof(e=jQuery.timer.timeParse(e))||isNaN(e)||e<0)){("number"!=typeof s||isNaN(s)||s<0)&&(s=0),s=s||0;var n=jQuery.data(t,this.dataKey)||jQuery.data(t,this.dataKey,{});n[i]||(n[i]={}),r.timerID=r.timerID||this.guid++;var a=function(){(++o>s&&0!==s||!1===r.call(t,o))&&jQuery.timer.remove(t,i,r)};a.timerID=r.timerID,n[i][r.timerID]||(n[i][r.timerID]=window.setInterval(a,e)),this.global.push(t)}},remove:function(t,e,i){var r,s=jQuery.data(t,this.dataKey);if(s){if(e){if(s[e]){if(i)i.timerID&&(window.clearInterval(s[e][i.timerID]),delete s[e][i.timerID]);else for(var i in s[e])window.clearInterval(s[e][i]),delete s[e][i];for(r in s[e])break;r||(r=null,delete s[e])}}else for(e in s)this.remove(t,e,i);for(r in s)break;r||jQuery.removeData(t,this.dataKey)}}}}),jQuery(window).bind("unload",function(){jQuery.each(jQuery.timer.global,function(t,e){jQuery.timer.remove(e)})});var curvyBrowser=new browserdetect;if(curvyBrowser.isIE)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(t){}function curvyCnrSpec(t){this.selectorText=t,this.tlR=this.trR=this.blR=this.brR=0,this.tlu=this.tru=this.blu=this.bru="",this.antiAlias=!0}function operasheet(t){var e=document.styleSheets.item(t).ownerNode.text;e=e.replace(/\/\*(\n|\r|.)*?\*\//g,"");var i,r=new RegExp("^\\s*([\\w.#][-\\w.#, ]+)[\\n\\s]*\\{([^}]+border-((top|bottom)-(left|right)-)?radius[^}]*)\\}","mg");for(this.rules=[];null!==(i=r.exec(e));){for(var s,o=new RegExp("(..)border-((top|bottom)-(left|right)-)?radius:\\s*([\\d.]+)(in|em|px|ex|pt)","g"),n=new curvyCnrSpec(i[1]);null!==(s=o.exec(i[2]));)"z-"!==s[1]&&n.setcorner(s[3],s[4],s[5],s[6]);this.rules.push(n)}}function curvyCorners(){var t,e,i,r,s;if("object"!=typeof arguments[0])throw curvyCorners.newError("First parameter of curvyCorners() must be an object.");if(arguments[0]instanceof curvyCnrSpec)(r=arguments[0]).selectorText||"string"!=typeof arguments[1]||(r.selectorText=arguments[1]);else{if("object"!=typeof arguments[1]&&"string"!=typeof arguments[1])throw curvyCorners.newError("Second parameter of curvyCorners() must be an object or a class name.");"string"!=typeof(e=arguments[1])&&(e=""),""!==e&&"."!==e.charAt(0)&&"autoPad"in arguments[0]&&(e="."+e),(r=new curvyCnrSpec(e)).setfrom(arguments[0])}if(r.selectorText){s=0;var o=r.selectorText.replace(/\s+$/,"").split(/,\s*/);for(i=new Array,t=0;t<o.length;++t)-1!==(e=o[t].lastIndexOf("#"))&&(o[t]=o[t].substr(e)),i=i.concat(curvyCorners.getElementsBySelector(o[t].split(/\s+/)))}else s=1,i=arguments;for(t=s,e=i.length;t<e;++t){var n=i[t],a=!1;if(n.className?(a=-1!==n.className.indexOf("curvyIgnore"))||(n.className+=" curvyIgnore"):n.className="curvyIgnore",!a)-1!==n.className.indexOf("curvyRedraw")&&(void 0===curvyCorners.redrawList&&(curvyCorners.redrawList=new Array),curvyCorners.redrawList.push({node:n,spec:r,copy:n.cloneNode(!1)})),new curvyObject(r,n).applyCorners()}}function curvyObject(){var T;this.box=arguments[1],this.settings=arguments[0],this.topContainer=this.bottomContainer=this.shell=T=null;var t=this.box.clientWidth;if("canHaveChildren"in this.box&&!this.box.canHaveChildren||"TABLE"===this.box.tagName)throw new Error(this.errmsg("You cannot apply corners to "+this.box.tagName+" elements.","Error"));if(!t&&curvyBrowser.isIE&&(this.box.style.zoom=1,t=this.box.clientWidth),t||"inline"!==curvyBrowser.get_style(this.box,"display")||(this.box.style.display="inline-block",curvyCorners.alert(this.errmsg("Converting inline element to inline-block","warning")),t=this.box.clientWidth),!t){if(!this.box.parentNode)throw this.newError("box has no parent!");for(T=this.box;;T=T.parentNode){if(!T||"BODY"===T.tagName)return this.applyCorners=function(){},void curvyCorners.alert(this.errmsg("zero-width box with no accountable parent","warning"));if("none"===curvyBrowser.get_style(T,"display"))break}var O=T.style.display;T.style.display="block",t=this.box.clientWidth}if(!t)return curvyCorners.alert(this.errmsg("zero-width box, cannot display","error")),void(this.applyCorners=function(){});arguments[0]instanceof curvyCnrSpec?this.spec=arguments[0].cloneOn(this.box):(this.spec=new curvyCnrSpec(""),this.spec.setfrom(this.settings));var R,W,e=curvyBrowser.get_style(this.box,"borderTopWidth"),i=curvyBrowser.get_style(this.box,"borderBottomWidth"),r=curvyBrowser.get_style(this.box,"borderLeftWidth"),s=curvyBrowser.get_style(this.box,"borderRightWidth"),o=curvyBrowser.get_style(this.box,"borderTopColor"),n=curvyBrowser.get_style(this.box,"borderBottomColor"),a=curvyBrowser.get_style(this.box,"borderLeftColor"),p=curvyBrowser.get_style(this.box,"borderRightColor"),l=curvyBrowser.get_style(this.box,"borderTopStyle"),h=curvyBrowser.get_style(this.box,"borderBottomStyle"),c=curvyBrowser.get_style(this.box,"borderLeftStyle"),d=curvyBrowser.get_style(this.box,"borderRightStyle"),u=curvyBrowser.get_style(this.box,"backgroundColor"),f=curvyBrowser.get_style(this.box,"backgroundImage"),g=curvyBrowser.get_style(this.box,"backgroundRepeat");this.box.currentStyle&&this.box.currentStyle.backgroundPositionX?(R=curvyBrowser.get_style(this.box,"backgroundPositionX"),W=curvyBrowser.get_style(this.box,"backgroundPositionY")):(R=(R=curvyBrowser.get_style(this.box,"backgroundPosition")).split(" "),W=2===R.length?R[1]:0,R=R[0]);var m=curvyBrowser.get_style(this.box,"position"),v=curvyBrowser.get_style(this.box,"paddingTop"),_=curvyBrowser.get_style(this.box,"paddingBottom"),b=curvyBrowser.get_style(this.box,"paddingLeft"),y=curvyBrowser.get_style(this.box,"paddingRight"),P=7<curvyBrowser.ieVer?curvyBrowser.get_style(this.box,"filter"):null,S=this.spec.get("tR"),L=this.spec.get("bR"),E=function(t){if("number"==typeof t)return t;if("string"!=typeof t)throw new Error("unexpected styleToNPx type "+typeof t);var e=/^[-\d.]([a-z]+)$/.exec(t);if(e&&"px"!=e[1])throw new Error("Unexpected unit "+e[1]);return isNaN(t=parseInt(t))&&(t=0),t};try{this.borderWidth=E(e),this.borderWidthB=E(i),this.borderWidthL=E(r),this.borderWidthR=E(s),this.boxColour=curvyObject.format_colour(u),this.topPadding=E(v),this.bottomPadding=E(_),this.leftPadding=E(b),this.rightPadding=E(y),this.boxWidth=t,this.boxHeight=this.box.clientHeight,this.borderColour=curvyObject.format_colour(o),this.borderColourB=curvyObject.format_colour(n),this.borderColourL=curvyObject.format_colour(a),this.borderColourR=curvyObject.format_colour(p),this.borderString=this.borderWidth+"px "+l+" "+this.borderColour,this.borderStringB=this.borderWidthB+"px "+h+" "+this.borderColourB,this.borderStringL=this.borderWidthL+"px "+c+" "+this.borderColourL,this.borderStringR=this.borderWidthR+"px "+d+" "+this.borderColourR,this.backgroundImage="none"!=f?f:"",this.backgroundRepeat=g}catch(t){throw this.newError(t.message)}var N,q=this.boxHeight,A=t;curvyBrowser.isOp&&(R=E(R),W=E(W),R&&((N=A+this.borderWidthL+this.borderWidthR)<R&&(R=N),R=N/R*100+"%"),W&&((N=q+this.borderWidth+this.borderWidthB)<W&&(W=N),W=N/W*100+"%"));for(curvyBrowser.quirksMode||(this.boxWidth-=this.leftPadding+this.rightPadding,this.boxHeight-=this.topPadding+this.bottomPadding),this.contentContainer=document.createElement("div"),P&&(this.contentContainer.style.filter=P);this.box.firstChild;)this.contentContainer.appendChild(this.box.removeChild(this.box.firstChild));"absolute"!=m&&(this.box.style.position="relative"),this.box.style.padding="0",this.box.style.border=this.box.style.backgroundImage="none",this.box.style.backgroundColor="transparent",this.box.style.width=A+this.borderWidthL+this.borderWidthR+"px",this.box.style.height=q+this.borderWidth+this.borderWidthB+"px";var w,Q=document.createElement("div");if(Q.style.position="absolute",P&&(Q.style.filter=P),curvyBrowser.quirksMode?Q.style.width=A+this.borderWidthL+this.borderWidthR+"px":Q.style.width=A+"px",Q.style.height=(w=q+this.borderWidth+this.borderWidthB-S-L)<=0?"0":w+"px",Q.style.padding="0",Q.style.top=S+"px",Q.style.left="0",this.borderWidthL&&(Q.style.borderLeft=this.borderStringL),this.borderWidth&&!S&&(Q.style.borderTop=this.borderString),this.borderWidthR&&(Q.style.borderRight=this.borderStringR),this.borderWidthB&&!L&&(Q.style.borderBottom=this.borderStringB),Q.style.backgroundColor=u,Q.style.backgroundImage=this.backgroundImage,Q.style.backgroundRepeat=this.backgroundRepeat,Q.style.direction="ltr",this.shell=this.box.appendChild(Q),""===(t=curvyBrowser.get_style(this.shell,"width"))||"auto"===t||-1!==t.indexOf("%"))throw this.newError("Shell width is "+t);this.boxWidth=""!==t&&"auto"!=t&&-1==t.indexOf("%")?parseInt(t):this.shell.clientWidth,this.applyCorners=function(){if(this.backgroundPosX=this.backgroundPosY=0,this.backgroundObject){var t=function(t,e,i){return 0===t?0:"right"===t||"bottom"===t?i-e:"center"===t?(i-e)/2:0<t.indexOf("%")?100*(i-e)/parseInt(t):E(t)};this.backgroundPosX=t(R,this.backgroundObject.width,A),this.backgroundPosY=t(W,this.backgroundObject.height,q)}else this.backgroundImage&&(this.backgroundPosX=E(R),this.backgroundPosY=E(W));S&&((Q=document.createElement("div")).style.width=this.boxWidth+"px",Q.style.fontSize="1px",Q.style.overflow="hidden",Q.style.position="absolute",Q.style.paddingLeft=this.borderWidth+"px",Q.style.paddingRight=this.borderWidth+"px",Q.style.height=S+"px",Q.style.top=-S+"px",Q.style.left=-this.borderWidthL+"px",this.topContainer=this.shell.appendChild(Q)),L&&((Q=document.createElement("div")).style.width=this.boxWidth+"px",Q.style.fontSize="1px",Q.style.overflow="hidden",Q.style.position="absolute",Q.style.paddingLeft=this.borderWidthB+"px",Q.style.paddingRight=this.borderWidthB+"px",Q.style.height=L+"px",Q.style.bottom=-L+"px",Q.style.left=-this.borderWidthL+"px",this.bottomContainer=this.shell.appendChild(Q));var e=this.spec.cornerNames();for(var i in e)if(!isNaN(i)){var r,s,o,n=e[i],a=this.spec[n+"R"];s=a-(o="tr"==n||"tl"==n?(this.borderWidth,r=this.borderColour,this.borderWidth):(this.borderWidthB,r=this.borderColourB,this.borderWidthB));var p,l,h,c=document.createElement("div");c.style.height=this.spec.get(n+"Ru"),c.style.width=this.spec.get(n+"Ru"),c.style.position="absolute",c.style.fontSize="1px",c.style.overflow="hidden";var d,u=P?parseInt(/alpha\(opacity.(\d+)\)/.exec(P)[1]):100;for(p=0;p<a;++p){var f=s<=p+1?-1:Math.floor(Math.sqrt(Math.pow(s,2)-Math.pow(p+1,2)))-1;if(s!=a)var g=s<=p?-1:Math.ceil(Math.sqrt(Math.pow(s,2)-Math.pow(p,2))),m=a<=p+1?-1:Math.floor(Math.sqrt(Math.pow(a,2)-Math.pow(p+1,2)))-1;var v=a<=p?-1:Math.ceil(Math.sqrt(Math.pow(a,2)-Math.pow(p,2)));if(-1<f&&this.drawPixel(p,0,this.boxColour,u,f+1,c,!0,a),s!=a)if(this.spec.antiAlias){for(l=f+1;l<g;++l)if(""!==this.backgroundImage){var _=100*curvyObject.pixelFraction(p,l,s);this.drawPixel(p,l,r,u,1,c,30<=_,a)}else if("transparent"!==this.boxColour){var b=curvyObject.BlendColour(this.boxColour,r,curvyObject.pixelFraction(p,l,s));this.drawPixel(p,l,b,u,1,c,!1,a)}else this.drawPixel(p,l,r,u>>1,1,c,!1,a);g<=m&&(-1==g&&(g=0),this.drawPixel(p,g,r,u,m-g+1,c,!1,0)),h=r,l=m}else f<m&&this.drawPixel(p,f+1,r,u,m-f,c,!1,0);else h=this.boxColour,l=f;if(this.spec.antiAlias&&"transparent"!==this.boxColour)for(;++l<v;)this.drawPixel(p,l,h,curvyObject.pixelFraction(p,l,a)*u,1,c,o<=0,a)}for(N=0,d=c.childNodes.length;N<d;++N){var y=c.childNodes[N],w=parseInt(y.style.top),x=parseInt(y.style.left),C=parseInt(y.style.height);if("tl"!=n&&"bl"!=n||(y.style.left=a-x-1+"px"),"tr"!=n&&"tl"!=n||(y.style.top=a-C-w+"px"),y.style.backgroundRepeat=this.backgroundRepeat,this.backgroundImage)switch(n){case"tr":y.style.backgroundPosition=this.backgroundPosX-this.borderWidthL+a-A-x+"px "+(this.backgroundPosY+C+w+this.borderWidth-a)+"px";break;case"tl":y.style.backgroundPosition=this.backgroundPosX-a+x+1+this.borderWidthL+"px "+(this.backgroundPosY-a+C+w+this.borderWidth)+"px";break;case"bl":y.style.backgroundPosition=this.backgroundPosX-a+x+1+this.borderWidthL+"px "+(this.backgroundPosY-q-this.borderWidth+(curvyBrowser.quirksMode?w:-w)+a)+"px";break;case"br":curvyBrowser.quirksMode?y.style.backgroundPosition=this.backgroundPosX-this.borderWidthL-A+a-x+"px "+(this.backgroundPosY-q-this.borderWidth+w+a)+"px":y.style.backgroundPosition=this.backgroundPosX-this.borderWidthL-A+a-x+"px "+(this.backgroundPosY-q-this.borderWidth+a-w)+"px"}}switch(n){case"tl":c.style.top=c.style.left="0",this.topContainer.appendChild(c);break;case"tr":c.style.top=c.style.right="0",this.topContainer.appendChild(c);break;case"bl":c.style.bottom=c.style.left="0",this.bottomContainer.appendChild(c);break;case"br":c.style.bottom=c.style.right="0",this.bottomContainer.appendChild(c)}}var k={t:this.spec.radiusdiff("t"),b:this.spec.radiusdiff("b")};for(var z in k)if("function"!=typeof z&&this.spec.get(z+"R")){if(k[z]){var I=this.spec[z+"lR"]<this.spec[z+"rR"]?z+"l":z+"r",M=document.createElement("div");switch(M.style.height=k[z]+"px",M.style.width=this.spec.get(I+"Ru"),M.style.position="absolute",M.style.fontSize="1px",M.style.overflow="hidden",M.style.backgroundColor=this.boxColour,P&&(M.style.filter=P),M.style.backgroundImage=this.backgroundImage,M.style.backgroundRepeat=this.backgroundRepeat,I){case"tl":M.style.bottom=M.style.left="0",M.style.borderLeft=this.borderStringL,M.style.backgroundPosition=this.backgroundPosX+"px "+(this.borderWidth+this.backgroundPosY-this.spec.tlR)+"px",this.topContainer.appendChild(M);break;case"tr":M.style.bottom=M.style.right="0",M.style.borderRight=this.borderStringR,M.style.backgroundPosition=this.backgroundPosX-this.boxWidth+this.spec.trR+"px "+(this.borderWidth+this.backgroundPosY-this.spec.trR)+"px",this.topContainer.appendChild(M);break;case"bl":M.style.top=M.style.left="0",M.style.borderLeft=this.borderStringL,M.style.backgroundPosition=this.backgroundPosX+"px "+(this.backgroundPosY-this.borderWidth-this.boxHeight+k[z]+this.spec.blR)+"px",this.bottomContainer.appendChild(M);break;case"br":M.style.top=M.style.right="0",M.style.borderRight=this.borderStringR,M.style.backgroundPosition=this.borderWidthL+this.backgroundPosX-this.boxWidth+this.spec.brR+"px "+(this.backgroundPosY-this.borderWidth-this.boxHeight+k[z]+this.spec.brR)+"px",this.bottomContainer.appendChild(M)}}var j=document.createElement("div");switch(P&&(j.style.filter=P),j.style.position="relative",j.style.fontSize="1px",j.style.overflow="hidden",j.style.width=this.fillerWidth(z),j.style.backgroundColor=this.boxColour,j.style.backgroundImage=this.backgroundImage,j.style.backgroundRepeat=this.backgroundRepeat,z){case"t":if(this.topContainer){if(curvyBrowser.quirksMode?j.style.height=100+S+"px":j.style.height=100+S-this.borderWidth+"px",j.style.marginLeft=this.spec.tlR?this.spec.tlR-this.borderWidthL+"px":"0",j.style.borderTop=this.borderString,this.backgroundImage){var B=this.spec.tlR?this.borderWidthL+this.backgroundPosX-this.spec.tlR+"px ":this.backgroundPosX+"px ";j.style.backgroundPosition=B+this.backgroundPosY+"px",this.shell.style.backgroundPosition=this.backgroundPosX+"px "+(this.backgroundPosY-S+this.borderWidthL)+"px"}this.topContainer.appendChild(j)}break;case"b":if(this.bottomContainer){if(curvyBrowser.quirksMode?j.style.height=L+"px":j.style.height=L-this.borderWidthB+"px",j.style.marginLeft=this.spec.blR?this.spec.blR-this.borderWidthL+"px":"0",j.style.borderBottom=this.borderStringB,this.backgroundImage){B=this.spec.blR?this.backgroundPosX+this.borderWidthL-this.spec.blR+"px ":this.backgroundPosX+"px ";j.style.backgroundPosition=B+(this.backgroundPosY-q-this.borderWidth+L)+"px"}this.bottomContainer.appendChild(j)}}}this.contentContainer.style.position="absolute",this.contentContainer.className="autoPadDiv",this.contentContainer.style.left=this.borderWidthL+"px",this.contentContainer.style.paddingTop=this.topPadding+"px",this.contentContainer.style.top=this.borderWidth+"px",this.contentContainer.style.paddingLeft=this.leftPadding+"px",this.contentContainer.style.paddingRight=this.rightPadding+"px",z=A,curvyBrowser.quirksMode||(z-=this.leftPadding+this.rightPadding),this.contentContainer.style.width=z+"px",this.contentContainer.style.textAlign=curvyBrowser.get_style(this.box,"textAlign"),this.box.style.textAlign="left",this.box.appendChild(this.contentContainer),T&&(T.style.display=O)},this.backgroundImage&&(R=this.backgroundCheck(R),W=this.backgroundCheck(W),this.backgroundObject&&((this.backgroundObject.holdingElement=this).dispatch=this.applyCorners,this.applyCorners=function(){this.backgroundObject.complete?this.dispatch():this.backgroundObject.onload=new Function("curvyObject.dispatch(this.holdingElement);")}))}if(curvyCnrSpec.prototype.setcorner=function(t,e,i,r){if(t){var s=t.charAt(0)+e.charAt(0);this[s+"R"]=parseInt(i),this[s+"u"]=r}else this.tlR=this.trR=this.blR=this.brR=parseInt(i),this.tlu=this.tru=this.blu=this.bru=r},curvyCnrSpec.prototype.get=function(t){if(/^(t|b)(l|r)(R|u)$/.test(t))return this[t];if(/^(t|b)(l|r)Ru$/.test(t)){var e=t.charAt(0)+t.charAt(1);return this[e+"R"]+this[e+"u"]}if(/^(t|b)Ru?$/.test(t)){var i=t.charAt(0),r=this[(i+=this[i+"lR"]>this[i+"rR"]?"l":"r")+"R"];return 3===t.length&&"u"===t.charAt(2)&&(r+=this[i="u"]),r}throw new Error("Don't recognize property "+t)},curvyCnrSpec.prototype.radiusdiff=function(t){if("t"!==t&&"b"!==t)throw new Error("Param must be 't' or 'b'");return Math.abs(this[t+"lR"]-this[t+"rR"])},curvyCnrSpec.prototype.setfrom=function(t){this.tlu=this.tru=this.blu=this.bru="px","tl"in t&&(this.tlR=t.tl.radius),"tr"in t&&(this.trR=t.tr.radius),"bl"in t&&(this.blR=t.bl.radius),"br"in t&&(this.brR=t.br.radius),"antiAlias"in t&&(this.antiAlias=t.antiAlias)},curvyCnrSpec.prototype.cloneOn=function(t){var e,i,r=["tl","tr","bl","br"],s=0;for(e in r)if(!isNaN(e)&&""!==(i=this[r[e]+"u"])&&"px"!==i){s=new curvyCnrSpec;break}if(s){var o,n,a=curvyBrowser.get_style(t,"left");for(e in r)if(!isNaN(e)){if(i=this[(o=r[e])+"u"],n=this[o+"R"],"px"!==i){var p=t.style.left;t.style.left=n+i,n=t.style.pixelLeft,t.style.left=p}s[o+"R"]=n,s[o+"u"]="px"}t.style.left=a}else s=this;return s},curvyCnrSpec.prototype.radiusSum=function(t){if("t"!==t&&"b"!==t)throw new Error("Param must be 't' or 'b'");return this[t+"lR"]+this[t+"rR"]},curvyCnrSpec.prototype.radiusCount=function(t){var e=0;return this[t+"lR"]&&++e,this[t+"rR"]&&++e,e},curvyCnrSpec.prototype.cornerNames=function(){var t=[];return this.tlR&&t.push("tl"),this.trR&&t.push("tr"),this.blR&&t.push("bl"),this.brR&&t.push("br"),t},operasheet.contains_border_radius=function(t){return/border-((top|bottom)-(left|right)-)?radius/.test(document.styleSheets.item(t).ownerNode.text)},curvyCorners.prototype.applyCornersToAll=function(){throw curvyCorners.newError("This function is now redundant. Just call curvyCorners(). See documentation.")},curvyCorners.redraw=function(){if(!curvyBrowser.supportsCorners){if(!curvyCorners.redrawList)throw curvyCorners.newError("curvyCorners.redraw() has nothing to redraw.");var t=curvyCorners.block_redraw;for(var e in curvyCorners.block_redraw=!0,curvyCorners.redrawList)if(!isNaN(e)){var i=curvyCorners.redrawList[e];if(i.node.clientWidth){for(var r=i.copy.cloneNode(!1),s=i.node.firstChild;null!==s&&-1===s.className.indexOf("autoPadDiv");s=s.nextSibling);if(!s){curvyCorners.alert("Couldn't find autoPad DIV");break}i.node.parentNode.replaceChild(r,i.node);for(var o=s.getElementsByTagName("script"),n=o.length-1;0<=n;--n)o[n].parentNode.removeChild(o[n]);for(;s.firstChild;)r.appendChild(s.removeChild(s.firstChild));(i=new curvyObject(i.spec,i.node=r)).applyCorners()}}curvyCorners.block_redraw=t}},curvyCorners.adjust=function(obj,prop,newval){if(!curvyBrowser.supportsCorners){if(!curvyCorners.redrawList)throw curvyCorners.newError("curvyCorners.adjust() has nothing to adjust.");var i,j=curvyCorners.redrawList.length;for(i=0;i<j&&curvyCorners.redrawList[i].node!==obj;++i);if(i===j)throw curvyCorners.newError("Object not redrawable");obj=curvyCorners.redrawList[i].copy}-1===prop.indexOf(".")?obj[prop]=newval:eval("obj."+prop+"='"+newval+"'")},curvyCorners.handleWinResize=function(){curvyCorners.block_redraw||curvyCorners.redraw()},curvyCorners.setWinResize=function(t){curvyCorners.block_redraw=!t},curvyCorners.newError=function(t){return new Error("curvyCorners Error:\n"+t)},curvyCorners.alert=function(t){("undefined"==typeof curvyCornersVerbose||curvyCornersVerbose)&&alert(t)},curvyObject.prototype.backgroundCheck=function(t){if("top"===t||"left"===t||0===parseInt(t))return 0;if(!/^[-\d.]+px$/.test(t)&&!this.backgroundObject){this.backgroundObject=new Image;this.backgroundObject.src=(e=this.backgroundImage,(i=/url\("?([^'"]+)"?\)/.exec(e))?i[1]:e)}var e,i;return t},curvyObject.dispatch=function(t){if(!("dispatch"in t))throw t.newError("No dispatch function");t.dispatch()},curvyObject.prototype.drawPixel=function(t,e,i,r,s,o,n,a){var p=document.createElement("div");p.style.height=s+"px",p.style.width="1px",p.style.position="absolute",p.style.fontSize="1px",p.style.overflow="hidden";var l=this.spec.get("tR");p.style.backgroundColor=i,n&&""!==this.backgroundImage&&(p.style.backgroundImage=this.backgroundImage,p.style.backgroundPosition="-"+(this.boxWidth-(a-t)+this.borderWidth)+"px -"+(this.boxHeight+l+e-this.borderWidth)+"px"),100!=r&&curvyObject.setOpacity(p,r),p.style.top=e+"px",p.style.left=t+"px",o.appendChild(p)},curvyObject.prototype.fillerWidth=function(t){var e,i;if(e=curvyBrowser.quirksMode?0:this.spec.radiusCount(t)*this.borderWidthL,(i=this.boxWidth-this.spec.radiusSum(t)+e)<0)throw this.newError("Radius exceeds box width");return i+"px"},curvyObject.prototype.errmsg=function(t,e){var i,r="\ntag: "+this.box.tagName;return this.box.id&&(r+="\nid: "+this.box.id),this.box.className&&(r+="\nclass: "+this.box.className),null===(i=this.box.parentNode)?r+="\n(box has no parent)":(r+="\nParent tag: "+i.tagName,i.id&&(r+="\nParent ID: "+i.id),i.className&&(r+="\nParent class: "+i.className)),void 0===e&&(e="warning"),"curvyObject "+e+":\n"+t+r},curvyObject.prototype.newError=function(t){return new Error(this.errmsg(t,"exception"))},curvyObject.IntToHex=function(t){var e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];return e[t>>>4]+""+e[15&t]},curvyObject.BlendColour=function(t,e,i){if("transparent"===t||"transparent"===e)throw this.newError("Cannot blend with transparent");"#"!==t.charAt(0)&&(t=curvyObject.format_colour(t)),"#"!==e.charAt(0)&&(e=curvyObject.format_colour(e));var r=parseInt(t.substr(1,2),16),s=parseInt(t.substr(3,2),16),o=parseInt(t.substr(5,2),16),n=parseInt(e.substr(1,2),16),a=parseInt(e.substr(3,2),16),p=parseInt(e.substr(5,2),16);(1<i||i<0)&&(i=1);var l=Math.round(r*i+n*(1-i));255<l&&(l=255),l<0&&(l=0);var h=Math.round(s*i+a*(1-i));255<h&&(h=255),h<0&&(h=0);var c=Math.round(o*i+p*(1-i));return 255<c&&(c=255),c<0&&(c=0),"#"+curvyObject.IntToHex(l)+curvyObject.IntToHex(h)+curvyObject.IntToHex(c)},curvyObject.pixelFraction=function(t,e,i){var r,s=i*i,o=new Array(2),n=new Array(2),a=0,p="",l=Math.sqrt(s-Math.pow(t,2));switch(e<=l&&l<e+1&&(p="Left",o[a]=0,n[a]=l-e,++a),t<=(l=Math.sqrt(s-Math.pow(e+1,2)))&&l<t+1&&(p+="Top",o[a]=l-t,n[a]=1,++a),e<=(l=Math.sqrt(s-Math.pow(t+1,2)))&&l<e+1&&(p+="Right",o[a]=1,n[a]=l-e,++a),t<=(l=Math.sqrt(s-Math.pow(e,2)))&&l<t+1&&(p+="Bottom",o[a]=l-t,n[a]=0),p){case"LeftRight":r=Math.min(n[0],n[1])+(Math.max(n[0],n[1])-Math.min(n[0],n[1]))/2;break;case"TopRight":r=1-(1-o[0])*(1-n[1])/2;break;case"TopBottom":r=Math.min(o[0],o[1])+(Math.max(o[0],o[1])-Math.min(o[0],o[1]))/2;break;case"LeftBottom":r=n[0]*o[1]/2;break;default:r=1}return r},curvyObject.rgb2Array=function(t){return t.substring(4,t.indexOf(")")).split(/,\s*/)},curvyObject.rgb2Hex=function(t){try{var e=curvyObject.rgb2Array(t),i=parseInt(e[0]),r=parseInt(e[1]),s=parseInt(e[2]),o="#"+curvyObject.IntToHex(i)+curvyObject.IntToHex(r)+curvyObject.IntToHex(s)}catch(t){var n="getMessage"in t?t.getMessage():t.message;throw new Error("Error ("+n+") converting RGB value to Hex in rgb2Hex")}return o},curvyObject.setOpacity=function(t,e){if(e=100==e?99.999:e,curvyBrowser.isSafari&&"IFRAME"!=t.tagName){var i=curvyObject.rgb2Array(t.style.backgroundColor),r=parseInt(i[0]),s=parseInt(i[1]),o=parseInt(i[2]);t.style.backgroundColor="rgba("+r+", "+s+", "+o+", "+e/100+")"}else void 0!==t.style.opacity?t.style.opacity=e/100:void 0!==t.style.MozOpacity?t.style.MozOpacity=e/100:void 0!==t.style.filter?t.style.filter="alpha(opacity="+e+")":void 0!==t.style.KHTMLOpacity&&(t.style.KHTMLOpacity=e/100)},curvyCorners.addEvent=function(t,e,i,r){return t.addEventListener?(t.addEventListener(e,i,r),!0):t.attachEvent?t.attachEvent("on"+e,i):(t["on"+e]=i,!1)},"undefined"==typeof addEvent&&(addEvent=curvyCorners.addEvent),curvyObject.getComputedColour=function(t){var e=document.createElement("DIV");if(e.style.backgroundColor=t,document.body.appendChild(e),window.getComputedStyle){var i=document.defaultView.getComputedStyle(e,null).getPropertyValue("background-color");return e.parentNode.removeChild(e),"rgb"===i.substr(0,3)&&(i=curvyObject.rgb2Hex(i)),i}var r=document.body.createTextRange();r.moveToElementText(e),r.execCommand("ForeColor",!1,t);var s=r.queryCommandValue("ForeColor"),o="rgb("+(255&s)+", "+((65280&s)>>8)+", "+((16711680&s)>>16)+")";return e.parentNode.removeChild(e),r=null,curvyObject.rgb2Hex(o)},curvyObject.format_colour=function(t){return""!==t&&"transparent"!==t&&("rgb"===t.substr(0,3)?t=curvyObject.rgb2Hex(t):"#"!==t.charAt(0)?t=curvyObject.getComputedColour(t):4===t.length&&(t="#"+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)+t.charAt(3)+t.charAt(3))),t},curvyCorners.getElementsByClass=function(t,e){var i=new Array;void 0===e&&(e=document);var r,s,o,n="*";if(t=1===(t=t.split(".")).length?(n=t[0],!1):(t[0]&&(n=t[0]),t[1]),"#"===n.charAt(0))(s=document.getElementById(n.substr(1)))&&i.push(s);else if(o=(s=e.getElementsByTagName(n)).length,t){var a=new RegExp("(^|\\s)"+t+"(\\s|$)");for(r=0;r<o;++r)a.test(s[r].className)&&i.push(s[r])}else for(r=0;r<o;++r)i.push(s[r]);return i},curvyCorners.getElementsBySelector=function(t,e){var i,r=t[0];if(void 0===e&&(e=document),-1===r.indexOf("#"))i=curvyCorners.getElementsByClass(r,e);else{var s=e.getElementById(r.substr(1));if(!s)return[];i=[s]}if(1<t.length){for(var o=[],n=i.length;0<=--n;)o=o.concat(curvyCorners.getElementsBySelector(t.slice(1),i[n]));i=o}return i},curvyBrowser.supportsCorners){var curvyCornersNoAutoScan=!0;curvyCorners.init=function(){}}else curvyCorners.scanStyles=function(){function l(t){return parseInt(t)?/^[\d.]+(\w+)$/.exec(t)[1]:"px"}var t,e,i;if(curvyBrowser.isIE){function r(t){var e,i,r,s,o,n=t.style;if(o=6<curvyBrowser.ieVer?(e=n["-moz-border-radius"]||0,i=n["-moz-border-radius-topright"]||0,r=n["-moz-border-radius-topleft"]||0,s=n["-moz-border-radius-bottomright"]||0,n["-moz-border-radius-bottomleft"]||0):(e=n["moz-border-radius"]||0,i=n["moz-border-radius-topright"]||0,r=n["moz-border-radius-topleft"]||0,s=n["moz-border-radius-bottomright"]||0,n["moz-border-radius-bottomleft"]||0),e){var a=e.split("/");switch(""===(a=a[0].split(/\s+/))[a.length-1]&&a.pop(),a.length){case 3:r=a[0],i=o=a[1],s=a[2],e=!1;break;case 2:r=s=a[0],i=o=a[1],e=!1;case 1:break;case 4:r=a[0],i=a[1],s=a[2],o=a[3],e=!1;break;default:curvyCorners.alert("Illegal corners specification: "+e)}}if(e||r||i||s||o){var p=new curvyCnrSpec(t.selectorText);e?p.setcorner(null,null,parseInt(e),l(e)):(i&&p.setcorner("t","r",parseInt(i),l(i)),r&&p.setcorner("t","l",parseInt(r),l(r)),o&&p.setcorner("b","l",parseInt(o),l(o)),s&&p.setcorner("b","r",parseInt(s),l(s))),curvyCorners(p)}}for(t=0;t<document.styleSheets.length;++t)try{if(document.styleSheets[t].imports)for(e=0;e<document.styleSheets[t].imports.length;++e)for(i=0;i<document.styleSheets[t].imports[e].rules.length;++i)r(document.styleSheets[t].imports[e].rules[i]);for(e=0;e<document.styleSheets[t].rules.length;++e)r(document.styleSheets[t].rules[e])}catch(t){"undefined"!=typeof curvyCornersVerbose&&curvyCornersVerbose&&alert(t.message+" - ignored")}}else if(curvyBrowser.isOp)for(t=0;t<document.styleSheets.length;++t)if(operasheet.contains_border_radius(t))for(e in(i=new operasheet(t)).rules)isNaN(e)||curvyCorners(i.rules[e])},curvyCorners.init=function(){arguments.callee.done||(arguments.callee.done=!0,curvyBrowser.isWebKit&&curvyCorners.init.timer&&(clearInterval(curvyCorners.init.timer),curvyCorners.init.timer=null),curvyCorners.scanStyles())};void 0!==curvyCornersNoAutoScan&&!1!==curvyCornersNoAutoScan||(curvyBrowser.isOp?document.addEventListener("DOMContentLoaded",curvyCorners.init,!1):curvyCorners.addEvent(window,"load",curvyCorners.init,!1));